[2023-06-15T05:23:37.868+0000] {taskinstance.py:1084} INFO - Dependencies all met for dep_context=non-requeueable deps ti=<TaskInstance: data_ingestion_gcs_dag.download_dataset_task scheduled__2023-06-14T00:00:00+00:00 [queued]>
[2023-06-15T05:23:37.883+0000] {taskinstance.py:1084} INFO - Dependencies all met for dep_context=requeueable deps ti=<TaskInstance: data_ingestion_gcs_dag.download_dataset_task scheduled__2023-06-14T00:00:00+00:00 [queued]>
[2023-06-15T05:23:37.885+0000] {taskinstance.py:1282} INFO - 
--------------------------------------------------------------------------------
[2023-06-15T05:23:37.886+0000] {taskinstance.py:1283} INFO - Starting attempt 1 of 2
[2023-06-15T05:23:37.887+0000] {taskinstance.py:1284} INFO - 
--------------------------------------------------------------------------------
[2023-06-15T05:23:37.910+0000] {taskinstance.py:1303} INFO - Executing <Task(BashOperator): download_dataset_task> on 2023-06-14 00:00:00+00:00
[2023-06-15T05:23:37.925+0000] {standard_task_runner.py:55} INFO - Started process 7478 to run task
[2023-06-15T05:23:37.930+0000] {standard_task_runner.py:82} INFO - Running: ['***', 'tasks', 'run', 'data_ingestion_gcs_dag', 'download_dataset_task', 'scheduled__2023-06-14T00:00:00+00:00', '--job-id', '301', '--raw', '--subdir', 'DAGS_FOLDER/data_ingestion_kaggle.py', '--cfg-path', '/tmp/tmprj2_7dh_']
[2023-06-15T05:23:37.933+0000] {standard_task_runner.py:83} INFO - Job 301: Subtask download_dataset_task
[2023-06-15T05:23:38.036+0000] {task_command.py:388} INFO - Running <TaskInstance: data_ingestion_gcs_dag.download_dataset_task scheduled__2023-06-14T00:00:00+00:00 [running]> on host 7e4a92a12ba6
[2023-06-15T05:23:38.142+0000] {taskinstance.py:1511} INFO - Exporting the following env vars:
AIRFLOW_CTX_DAG_OWNER=***
AIRFLOW_CTX_DAG_ID=data_ingestion_gcs_dag
AIRFLOW_CTX_TASK_ID=download_dataset_task
AIRFLOW_CTX_EXECUTION_DATE=2023-06-14T00:00:00+00:00
AIRFLOW_CTX_TRY_NUMBER=1
AIRFLOW_CTX_DAG_RUN_ID=scheduled__2023-06-14T00:00:00+00:00
[2023-06-15T05:23:38.146+0000] {subprocess.py:63} INFO - Tmp dir root location: 
 /tmp
[2023-06-15T05:23:38.159+0000] {subprocess.py:75} INFO - Running command: ['/bin/bash', '-c', 'kaggle datasets download -d sherrytp/airline-delay-analysis -p /opt/***/airline-delay-analysis && unzip /opt/***/airline-delay-analysis/airline-delay-analysis.zip -d /opt/***/airline-delay-analysis']
[2023-06-15T05:23:38.184+0000] {subprocess.py:86} INFO - Output:
[2023-06-15T05:23:39.532+0000] {subprocess.py:93} INFO - airline-delay-analysis.zip: Skipping, found more recently modified local copy (use --force to force download)
[2023-06-15T05:23:39.734+0000] {subprocess.py:93} INFO - Archive:  /opt/***/airline-delay-analysis/airline-delay-analysis.zip
[2023-06-15T05:23:39.734+0000] {subprocess.py:93} INFO - replace /opt/***/airline-delay-analysis/airline delay analysis/20.csv? [y]es, [n]o, [A]ll, [N]one, [r]ename:  NULL
[2023-06-15T05:23:39.735+0000] {subprocess.py:93} INFO - (EOF or read error, treating as "[N]one" ...)
[2023-06-15T05:23:39.736+0000] {subprocess.py:97} INFO - Command exited with return code 1
[2023-06-15T05:23:39.751+0000] {taskinstance.py:1775} ERROR - Task failed with exception
Traceback (most recent call last):
  File "/home/airflow/.local/lib/python3.7/site-packages/airflow/operators/bash.py", line 197, in execute
    f"Bash command failed. The command returned a non-zero exit code {result.exit_code}."
airflow.exceptions.AirflowException: Bash command failed. The command returned a non-zero exit code 1.
[2023-06-15T05:23:39.757+0000] {taskinstance.py:1326} INFO - Marking task as UP_FOR_RETRY. dag_id=data_ingestion_gcs_dag, task_id=download_dataset_task, execution_date=20230614T000000, start_date=20230615T052337, end_date=20230615T052339
[2023-06-15T05:23:39.784+0000] {standard_task_runner.py:105} ERROR - Failed to execute job 301 for task download_dataset_task (Bash command failed. The command returned a non-zero exit code 1.; 7478)
[2023-06-15T05:23:39.831+0000] {local_task_job.py:212} INFO - Task exited with return code 1
[2023-06-15T05:23:39.863+0000] {taskinstance.py:2585} INFO - 0 downstream tasks scheduled from follow-on schedule check
[2023-06-15T06:30:04.604+0000] {taskinstance.py:1084} INFO - Dependencies all met for dep_context=non-requeueable deps ti=<TaskInstance: data_ingestion_gcs_dag.download_dataset_task scheduled__2023-06-14T00:00:00+00:00 [queued]>
[2023-06-15T06:30:04.624+0000] {taskinstance.py:1084} INFO - Dependencies all met for dep_context=requeueable deps ti=<TaskInstance: data_ingestion_gcs_dag.download_dataset_task scheduled__2023-06-14T00:00:00+00:00 [queued]>
[2023-06-15T06:30:04.625+0000] {taskinstance.py:1282} INFO - 
--------------------------------------------------------------------------------
[2023-06-15T06:30:04.626+0000] {taskinstance.py:1283} INFO - Starting attempt 1 of 2
[2023-06-15T06:30:04.627+0000] {taskinstance.py:1284} INFO - 
--------------------------------------------------------------------------------
[2023-06-15T06:30:04.653+0000] {taskinstance.py:1303} INFO - Executing <Task(BashOperator): download_dataset_task> on 2023-06-14 00:00:00+00:00
[2023-06-15T06:30:04.664+0000] {standard_task_runner.py:55} INFO - Started process 2958 to run task
[2023-06-15T06:30:04.668+0000] {standard_task_runner.py:82} INFO - Running: ['***', 'tasks', 'run', 'data_ingestion_gcs_dag', 'download_dataset_task', 'scheduled__2023-06-14T00:00:00+00:00', '--job-id', '318', '--raw', '--subdir', 'DAGS_FOLDER/data_ingestion_kaggle.py', '--cfg-path', '/tmp/tmp3biavvp3']
[2023-06-15T06:30:04.671+0000] {standard_task_runner.py:83} INFO - Job 318: Subtask download_dataset_task
[2023-06-15T06:30:04.763+0000] {task_command.py:388} INFO - Running <TaskInstance: data_ingestion_gcs_dag.download_dataset_task scheduled__2023-06-14T00:00:00+00:00 [running]> on host 658b05ff6f1a
[2023-06-15T06:30:04.862+0000] {taskinstance.py:1511} INFO - Exporting the following env vars:
AIRFLOW_CTX_DAG_OWNER=***
AIRFLOW_CTX_DAG_ID=data_ingestion_gcs_dag
AIRFLOW_CTX_TASK_ID=download_dataset_task
AIRFLOW_CTX_EXECUTION_DATE=2023-06-14T00:00:00+00:00
AIRFLOW_CTX_TRY_NUMBER=1
AIRFLOW_CTX_DAG_RUN_ID=scheduled__2023-06-14T00:00:00+00:00
[2023-06-15T06:30:04.865+0000] {subprocess.py:63} INFO - Tmp dir root location: 
 /tmp
[2023-06-15T06:30:04.872+0000] {subprocess.py:75} INFO - Running command: ['/bin/bash', '-c', 'kaggle datasets download -d sherrytp/airline-delay-analysis > /opt/***/']
[2023-06-15T06:30:04.910+0000] {subprocess.py:86} INFO - Output:
[2023-06-15T06:30:04.921+0000] {subprocess.py:93} INFO - /bin/bash: line 1: /opt/***/: Is a directory
[2023-06-15T06:30:04.922+0000] {subprocess.py:97} INFO - Command exited with return code 1
[2023-06-15T06:30:04.935+0000] {taskinstance.py:1775} ERROR - Task failed with exception
Traceback (most recent call last):
  File "/home/airflow/.local/lib/python3.7/site-packages/airflow/operators/bash.py", line 197, in execute
    f"Bash command failed. The command returned a non-zero exit code {result.exit_code}."
airflow.exceptions.AirflowException: Bash command failed. The command returned a non-zero exit code 1.
[2023-06-15T06:30:04.940+0000] {taskinstance.py:1326} INFO - Marking task as UP_FOR_RETRY. dag_id=data_ingestion_gcs_dag, task_id=download_dataset_task, execution_date=20230614T000000, start_date=20230615T063004, end_date=20230615T063004
[2023-06-15T06:30:04.967+0000] {standard_task_runner.py:105} ERROR - Failed to execute job 318 for task download_dataset_task (Bash command failed. The command returned a non-zero exit code 1.; 2958)
[2023-06-15T06:30:05.003+0000] {local_task_job.py:212} INFO - Task exited with return code 1
[2023-06-15T06:30:05.028+0000] {dagrun.py:697} ERROR - Failed to get task for ti <TaskInstance: data_ingestion_gcs_dag.unzip_task scheduled__2023-06-14T00:00:00+00:00 [None]>. Marking it as removed.
[2023-06-15T06:30:05.043+0000] {taskinstance.py:2585} INFO - 0 downstream tasks scheduled from follow-on schedule check
